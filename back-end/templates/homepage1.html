<!DOCTYPE html>
<html>
  <head>
    meta
    <title>Options and Content UI</title>
    <link rel="stylesheet" href="style.css">
    <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta charset="utf-8">
  </head>
  <body>
    <div class="sidebar">
      <a class="active" href="#option1">MongoDB Find</a>
      <a href="#option2">MongoDB Delete</a>
      <a href="#option3">MongoDB Update</a>
      <a href="#option4">MongoDB Insert</a>
    </div>
    <div class="content">
      <div id="option1">
        <h2>MongoDB Find Content</h2>
        <p class = "weel">This is the content for option 1.</p>
        <button class="button" onclick="find_option_mongoDB()">Button for Option 1</button>
      </div>
      <div id="option2" style="display:none">
        <h2>MongoDB Delete Content</h2>
        <p>This is the content for option 2.</p>
        <button class="button" onclick="delete_option_mongoDB()">Button for Option 2</button>
      </div>
      <div id="option3" style="display:none">
        <h2>MongoDB Update Content</h2>
        <p>This is the content for option 3.</p>
        <button class="button" onclick="update_option_mongoDB()">Button for Option 3</button>
      </div>
      <div id="option4" style="display:none">
        <h2>MongoDB Insert Content</h2>
        <p>This is the content for option 4.</p>
        <button class="button" onclick="insert_option_mongoDB()">Button for Option 4</button>

      </div>
      <div class="content">
        <div id="option1">
            <h2>Learning by Examples</h2>
        </div>
<hr>
      <div id="display_box">

      </div>
    </div>


    <script>
      function change1(){
        document.getElementById("option1").style.display = "block";
        document.getElementById("option2").style.display = "none";
        document.getElementById("option3").style.display = "none";
        document.getElementById("option4").style.display = "none";
      }

      function change2(){
        document.getElementById("option1").style.display = "none";
        document.getElementById("option2").style.display = "block";
        document.getElementById("option3").style.display = "none";
        document.getElementById("option4").style.display = "none";
      }

      function change3(){
        document.getElementById("option1").style.display = "none";
        document.getElementById("option2").style.display = "none";
        document.getElementById("option3").style.display = "block";
        document.getElementById("option4").style.display = "none";
      }

      function change4(){
        document.getElementById("option1").style.display = "none";
        document.getElementById("option2").style.display = "none";
        document.getElementById("option3").style.display = "none";
        document.getElementById("option4").style.display = "block";
      }

      function find_option_mongoDB() {
        fetch('/mongodb_run?mongo_db_command=FIND', {
          method: 'POST',
        })
                .then(response => display_results(response.json()))
                .then(response => {display_results(response); console.log(JSON.stringify(response))})
      }

      function delete_option_mongoDB(){
        fetch('/mongodb_run?mongo_db_command=DELETE?cmd_id=1241422', {
          method: 'POST',
        })
                .then(response => display_results(response.json()))
                .then(response => console.log(JSON.stringify(response)))
      }

      function update_option_mongoDB(){
        fetch('/mongodb_run?mongo_db_command=UPDATE?cmd_id=1241422', {
          method: 'POST',
        })
                .then(response => display_results(response.json()))
                .then(response => console.log(JSON.stringify(response)))
      }

      function insert_option_mongoDB(){
        fetch('/mongodb_run?mongo_db_command=INSERT?cmd_id=1241421', {
          method: 'POST',
        })
                .then(response => response.json())
                .then(response => {display_results(response); console.log(JSON.stringify(response))})
      }

      function display_results(data){
          var htmlString = "<div><p>" + data + "</p></div>";
          document.getElementById("display_box").innerHTML = htmlString;
      }

      var links = document.getElementsByTagName("a");
      for (var i = 0; i < links.length; i++) {
        links[i].addEventListener("click", function() {

          for (var j = 0; j < links.length; j++) {
            links[j].classList.remove("active");
          }
          this.classList.add("active");

          var target = this.getAttribute("href").substring(1);
          var divs = document.getElementsByTagName("div");
          for (var k = 0; k < divs.length; k++) {
            if (divs[k].id === target) {
              if (divs[k].id === 'option1')
                change1();
              if (divs[k].id === 'option2')
                change2();
              if (divs[k].id === 'option3')
                change3();
              if (divs[k].id === 'option4')
                change4();
            }
          }
          // Prevent the default link behavior
          event.preventDefault();
        });
      }
      // Show the initial content div
      document.getElementById("option1").style.display = "block";
    </script>
    <div class="well" style = "margin-top:15px; box-shadow: 2px 3px 2px 3px gray;">
      <h1 class ="weel"style="system-ui">MongoDB example</h1>
      <div style="background-color: #fff; padding: 5px;">
        &lt;db.posts.find( {category: "News"} )<br>


      </div>

    </div>

  </body>
</html>
